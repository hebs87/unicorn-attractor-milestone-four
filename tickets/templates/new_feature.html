{% extends "base.html" %}
{% load materializecss %}
{% load staticfiles %}

{% block title %}New Bug{% endblock %}

{% block content %}
    
    <form method="POST" action="" id="payment-form" data-token="{{ publishable }}">
        
        {% csrf_token %}
        <!--Recipe Details Card-->
        <div class="row recipe-card card z-depth-1 center-align">
            <!--Card Title-->
            <h3 class="card-title recipe-details-title">
                New Feature
            </h3>
            <!--Feature Form-->
            <div class="input-field col s12">
                {{ feature_form.title|materializecss:'icon=fas fa-heading' }}
                {{ feature_form.description|materializecss:'icon=fas fa-file-alt' }}
            </div>
            <div class="input-field col s1">
                <i class="fas fa-pound-sign prefix" aria-hidden="true"></i>
            </div>
            <div class="input-field col s11">
                {{ donation_form|materializecss }}
            </div>
            <div class="input-field col s12">
                <!-- Stripe Payment form -->
                <label for="card-element">
                    Credit or Debit card
                </label>
            </div>
            <div class="input-field col s12">
                <!-- Stripe Payment form -->
                <div id="card-element">
                    <!-- A Stripe Element will be inserted here. -->
                </div>
                <!-- Used to display form errors. -->
                <div id="card-errors" role="alert"></div>
            </div>
    
            <!--Add and Cancel buttons-->
            <div class="col s12">
                <button class="btn waves-effect waves-light add-btn standard-btn icon-right" type="submit" aria-label="Add bug button">
                    Pay &amp; Add
                    <i class="fas fa-plus-circle" aria-hidden="true"></i>
                </button>
                <a class="btn waves-effect waves-light standard-btn icon-right" type="reset" aria-label="Cancel button" onclick="history.back()">
                    Cancel
                    <i class="fas fa-times-circle" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    
    </form>
    
{% endblock %}

{% block js %}
    <!-- Stripe payment API tag -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- stripe.js file tag -->
    <script src="{% static 'js/stripe.js' %}"></script>
{% endblock %}